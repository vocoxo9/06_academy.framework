<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.todo.todoList.model.dao.TodoDAO">
	
	<select id="myTodoList" parameterType="int" resultType="Todo">
		SELECT TODO_NO, CONTENT, COMPLETION, SUBSTR(REGIST_DATE,1,8) REGIST_DATE, SUBSTR(DEADLINE,1,8) DEADLINE
		FROM TB_TODO
		WHERE MEMBER_NO = #{memberNo}
	</select>
	
	<update id="updateTodo">
		UPDATE TB_TODO SET CONTENT = #{content}, DEADLINE = #{deadline}
		WHERE TODO_NO = #{todoNo} 
	</update>
	
	<delete id="deleteTodo">
		DELETE FROM TB_TODO WHERE TODO_NO = #{todoNo}
	</delete>
	
	<insert id="insertTodo">
		INSERT INTO TB_TODO(TODO_NO, CONTENT, DEADLINE, MEMBER_NO) VALUES (SEQ_TODO.NEXTVAL ,#{content}, #{deadline}, #{memberNo})
	</insert>
</mapper>